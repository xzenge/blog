---
title: 分支预测 GCC __builtin_expect
date: 2020-12-13 18:03:18
tags: 
    - C
    - GCC
categories :
    - Technology
---

我们日常编写的代码中常见的分支语句，解释行语言能够根据代码运行期间收集分支的跳转的趋势动态优化分支跳转。而编译言语由于编译后直接生成可执行文件，因此很难在编译期推断出最好的优化条件。GCC为开发者提供了手动优化分支预测的方法__builtin_expect，通过显示编程向编译器提供优化建议从而优化分支的走向。

编译器是如何处理分支条件的？使用__builtin_expect的分支是如何得到优化的？使用GCC默认的优化级别会有什么不同？