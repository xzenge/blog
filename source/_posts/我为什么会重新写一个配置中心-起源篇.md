---
title: 我为什么会重新写一个配置中心-起源篇
date: 2020-03-19 22:16:13
tags: 
    - Java
    - Redis
categories :
    - Technology
---

## 聊聊后端的工作
作为一个后端狗最怕的有几件事：
1. 需求做也做不完就罢辽，隔三差五的业务同学还会跑来说“大锅，昨天上架的产品麻烦调整下文案☺”。。。
2. 好不容易做完了需求并且熬到了上线，第二天产品过来说“老弟，那个需求被监管部门勒令下架了，能把那个功能下了不”。。。
3. 代码敲的开心的时候，隔壁老大跑过来说“兄弟，之前那个XX报表不错啊，也定时发我一份”。。。

上面的场景大家认识我的不要对号入座哈，作为个后端狗，最怕的就是重复劳动。
产品的文案、业务的开关、报表的收件人等等这些我们都可以叫做业务配置，一个合格的开发也能在需求设计阶段将这些配置从需求中提炼出来并进行配置化，方便日后的变更。
那么，不是说配置能变更我们就没事了。
首先，如果基于spring开发的小伙伴肯定会想到spring自带的配置文件。
通过配置文件的隔离，我们完全能够隔离出dev、staging、prod甚至更多环境的配置。每当配置有变更我们只需要修改相应环境的配置，并重新部署就OK了。

这样好吗？答案是没什么不好。但是优雅吗？那必须是挫的一塌糊涂。
互联网的根基就是快速尝试、快速落地、反复尝试从而寻找到最优的解决方案。
业务在不断的尝试过程中，或许会蹦出个大神拍着脑袋说“我觉得客户要的就是这个，这么那么做准没错”。但现实往往证明我们都是普通人，成为别人肚子里的蛔虫那是多么困难的一件事。
所以需求的反反复复，代码的来来回回就是一个后端狗的日常。

## 配置中心的出现
那在这种快速变化的场景下，我们作为开发能做些什么呢？答案其实很简答，古人都说了“大道化简”，那自然是有变化我们就拥抱变化。
但一个聪明或者说懒惰的程序员在拥抱变化的同时最重要的工作就是寻找那个不变。代码的抽象、业务的抽象时我们日后服务搭建的根基。自然我们上面说道的配置当然也是。

聪明的程序员早就把这些繁杂的工作抽离了出来，配置中心而然而然的孕育出世。百度的Disconf、携程的Apollo、阿里的Nacos、Spring Cloud的Spring Cloud Config。
后面我会专门聊聊这几个常见的配置中心的优劣。

## 我为什么会重新写个配置中心
先自我打个广告，我的配置中心已经上线了，并且第一版也已近开源，欢迎大家拍砖 
>https://github.com/nadia-repository/nadia-config

