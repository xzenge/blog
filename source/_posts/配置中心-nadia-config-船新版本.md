---
title: 配置中心(nadia-config)  船新版本
date: 2021-02-10 11:17:39
tags: 
    - Java
    - Redis
    - 配置中心
categories :
    - Technology
---

大扎好，我系xzenge! nadia-config-plus，介四里没有挽过的船新版本，挤需体验三番钟，里造会干我一样，爱象节款工具！
>https://github.com/nadia-repository/nadia-config

<!-- more -->
谢谢看到这篇文章或是使用过nadia-config的大家。2021的农历新年也快到了，赶在新年的前一天，为大家带来nadia-config的全新版本，同时也给大家拜个早年。2020着实不易，希望每位仍在摸爬滚打的技术人们(包括我自己)，新的一年仍然能坚守自己的技术初心，也愿大家的技术梦想都能尽早实现，挥去2020的阴霾，未来的每一天都是充满希望的一天。

nadia-config的诞生最早是因为看到公司的配置中心用起来非常糟心，服务接入不灵活、很难契合公司的业务。思来想去自己私下撸了一个最初的版本尝试在公司推广。一来二去没想到各部门的小伙伴反馈都还不错，就这样成为了公司内部正式推广的项目，也随之完善了本次更新的各个功能和bug。

nadia-config未来会变成什么样，一直以来我都会不停思考这个问题。除了公司内部功能的迭代，我自己也会为nadia-config维护一个单独的个人版本进行开源。当初nadia-config的很多灵感来自于Apollo和XXL，研究过他们的代码后nadia-config也多少带有他们的影子，所以最开始设计nadia-config的时候就没有避讳一定要和谁不一样或是哪方面要和谁做的一样。

因此接下来的工作将会围绕在nadia-config的高可用和集群上。目前我的实现还是停留在对redis的依赖，虽然提供了完善的SPI对第三方的支持，但毕竟都是各家各有所长，择其一就要放弃另外一个。说的通俗一点，接下来会实现自己的分布式管理模块。可想而知工作量巨大，对整个nadia-config的架构也是一次巨大的调整。但我觉得这一步是必然的，生态的闭环需要技术和组件的支持，类比编程语言的话，一个成熟的语言伴随着自举，那项目的成熟自然是伴随的内部组件的完善，也就是对外部组件的剥离。这条路上我们有很多优秀的前辈可以给我们做参考。zookeeper、RocketMq的Namesrv等等都是我们未来学习并融合的方向。

说道底nadia-config会变成什么？我敢肯定的是它不会变成像Nacos一样大而全的如同瑞士军刀般的存在，但是她一定是一把趁手的砍刀，拿得起放得下！

### 更新日期 2021-02-10
1. 功能升级
   * 客户端支持多Application，提升配管理的灵活性，解决现有冗余配置的问题；
   * 升级客户端在服务端Metadata中注册的信息，提升客户端支持多Application的可读性；
   * 优化服务端剔除超时客户端的逻辑；
   * 放开服务端配置项大小的限制；
    
2. bug修改
    * 修改redis线程池数量，解决获取连接失败问题；
    * 修复服务端删除缓存时，远程缓存删除失败问题；
    * 修复配置变更后，客户端回调方法报错问题；
    * 修复客户端维持信条时，由于异常导致的心跳失败问题；
    * 修复@NadiaConfig注解中，排除功能导致的异常问题；
    * 修复服务端配置项不能为空的问题；
    * 修复客户端上报日志后，服务端无法正常消费的问题；
